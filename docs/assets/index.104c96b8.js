import{b as buildProps,u as useNamespace,p as picture_filled_default,_ as _export_sfc,w as withInstall,a as withNoopInstall,i as init,c as axios}from"./index.4841c104.js";import{r as ref,o as onMounted,w as watch,d as defineComponent,a as openBlock,c as createElementBlock,b as createBlock,u as unref,e as createCommentVNode,n as normalizeClass,t as toRef,F as Fragment,f as renderList,g as renderSlot,h as createVNode,m as mergeProps,i as normalizeProps,j as nextTick,k as withCtx,l as createBaseVNode,p as useRouter}from"./index.52380442.js";const useThrottleRender=(s,t=0)=>{if(t===0)return s;const r=ref(!1);let e=0;const n=()=>{e&&clearTimeout(e),e=window.setTimeout(()=>{r.value=s.value},t)};return onMounted(n),watch(()=>s.value,o=>{o?n():r.value=o}),r},skeletonProps=buildProps({animated:{type:Boolean,default:!1},count:{type:Number,default:1},rows:{type:Number,default:3},loading:{type:Boolean,default:!0},throttle:{type:Number}}),skeletonItemProps=buildProps({variant:{type:String,values:["circle","rect","h1","h3","text","caption","p","image","button"],default:"text"}}),__default__$1={name:"ElSkeletonItem"},_sfc_main$3=defineComponent({...__default__$1,props:skeletonItemProps,setup(s){const t=useNamespace("skeleton");return(r,e)=>(openBlock(),createElementBlock("div",{class:normalizeClass([unref(t).e("item"),unref(t).e(r.variant)])},[r.variant==="image"?(openBlock(),createBlock(unref(picture_filled_default),{key:0})):createCommentVNode("v-if",!0)],2))}});var SkeletonItem=_export_sfc(_sfc_main$3,[["__file","/home/runner/work/element-plus/element-plus/packages/components/skeleton/src/skeleton-item.vue"]]);const __default__={name:"ElSkeleton"},_sfc_main$2=defineComponent({...__default__,props:skeletonProps,setup(s,{expose:t}){const r=s,e=useNamespace("skeleton"),n=useThrottleRender(toRef(r,"loading"),r.throttle);return t({uiLoading:n}),(o,c)=>unref(n)?(openBlock(),createElementBlock("div",mergeProps({key:0,class:[unref(e).b(),unref(e).is("animated",o.animated)]},o.$attrs),[(openBlock(!0),createElementBlock(Fragment,null,renderList(o.count,a=>(openBlock(),createElementBlock(Fragment,{key:a},[o.loading?renderSlot(o.$slots,"template",{key:a},()=>[createVNode(SkeletonItem,{class:normalizeClass(unref(e).is("first")),variant:"p"},null,8,["class"]),(openBlock(!0),createElementBlock(Fragment,null,renderList(o.rows,l=>(openBlock(),createBlock(SkeletonItem,{key:l,class:normalizeClass([unref(e).e("paragraph"),unref(e).is("last",l===o.rows&&o.rows>1)]),variant:"p"},null,8,["class"]))),128))]):createCommentVNode("v-if",!0)],64))),128))],16)):renderSlot(o.$slots,"default",normalizeProps(mergeProps({key:1},o.$attrs)))}});var Skeleton=_export_sfc(_sfc_main$2,[["__file","/home/runner/work/element-plus/element-plus/packages/components/skeleton/src/skeleton.vue"]]);const ElSkeleton=withInstall(Skeleton,{SkeletonItem}),ElSkeletonItem=withNoopInstall(SkeletonItem),elSkeleton="",elSkeletonItem="",_hoisted_1$1={class:"chartPreviewImg"},_hoisted_2=["src"],_sfc_main$1=defineComponent({__name:"chartPreviewImg",props:{option:null},setup(s){const t=s,r=ref(null),e=ref("");let n;const o=ref(!0);onMounted(()=>{});const c=()=>{!t.option||(n?(n.clear(),n.setOption(t.option)):(n=init(r.value),n.setOption(t.option),n.on("finished",()=>{console.log(t.option,"option\u52A0\u8F7D\u7ED3\u675F"),e.value||(e.value=n.getConnectedDataURL({type:"png"}),nextTick(()=>{o.value=!1}))})),window.addEventListener("resize",()=>{n.resize()}))};return watch(()=>t.option,()=>{console.log(11,t.option),nextTick(()=>{c()})},{immediate:!0}),(a,l)=>{const i=ElSkeletonItem,u=ElSkeleton;return openBlock(),createElementBlock("div",_hoisted_1$1,[createVNode(u,{class:"w100h100",loading:o.value,animated:""},{template:withCtx(()=>[createVNode(i,{variant:"image",class:"w100h100"})]),default:withCtx(()=>[createBaseVNode("img",{src:e.value,class:"previewImg"},null,8,_hoisted_2)]),_:1},8,["loading"]),e.value?createCommentVNode("",!0):(openBlock(),createElementBlock("div",{key:0,class:"chartPreviewImgDom",ref_key:"chart",ref:r},null,512))])}}}),chartPreviewImg_vue_vue_type_style_index_0_lang="",_hoisted_1={class:"echarts-demo-list"},_sfc_main=defineComponent({__name:"index",setup(__props){const router=useRouter(),reqDataArr=ref(),reqOptionsFile=async()=>{let reqPromiseAllArr=await Promise.all([req("bar1.js"),req("pie1.js"),req("pie2.js")].map(s=>s.catch(t=>t)));reqDataArr.value=reqPromiseAllArr.map(item=>{let option={};return console.log(),eval(item.data),{option,file:item.request.responseURL.split("/")[item.request.responseURL.split("/").length-1]}})};onMounted(()=>{reqOptionsFile()});const req=s=>axios.get(window.BASE_URL+"echartsOptions/"+s),routerPush=s=>{router.push({path:"/echarts-code",query:{file:s}})};return(s,t)=>{const r=_sfc_main$1;return openBlock(),createElementBlock("section",_hoisted_1,[(openBlock(!0),createElementBlock(Fragment,null,renderList(reqDataArr.value,(e,n)=>(openBlock(),createElementBlock("div",{class:"echarts-demo",key:n},[createVNode(r,{option:e.option,onClick:o=>routerPush(e.file)},null,8,["option","onClick"])]))),128))])}}}),index_vue_vue_type_style_index_0_lang="";export{_sfc_main as default};
